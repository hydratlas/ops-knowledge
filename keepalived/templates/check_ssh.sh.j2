#!/bin/bash
# Check if SSH service is running

# Determine the SSH service name based on distribution
if systemctl list-units --type=service | grep -q "^.*ssh\.service.*active"; then
    SERVICE_NAME="ssh.service"
elif systemctl list-units --type=service | grep -q "^.*sshd\.service.*active"; then
    SERVICE_NAME="sshd.service"
else
    # Could not determine service name, exit with error
    exit 1
fi

# Check if the service is active
if systemctl is-active --quiet "$SERVICE_NAME"; then
    exit 0
else
    exit 1
fi