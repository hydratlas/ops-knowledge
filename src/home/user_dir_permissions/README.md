# user_directory ロール

ユーザーディレクトリの所有者・権限設定と、オプションでスケルトンファイルのコピーを行うロールである。

## 変数

| 変数名             | 必須 | デフォルト | 説明                             |
| ------------------ | ---- | ---------- | -------------------------------- |
| `user_directories` | Yes  | `[]`       | ユーザーディレクトリ設定のリスト |

### user_directories の構造

| キー        | 必須 | デフォルト | 説明                                   |
| ----------- | ---- | ---------- | -------------------------------------- |
| `path`      | Yes  | -          | ユーザーディレクトリのパス             |
| `user`      | Yes  | -          | 所有者ユーザー名                       |
| `group`     | No   | `user`の値 | 所有グループ名                         |
| `mode`      | No   | `0700`     | ディレクトリのパーミッション           |
| `copy_skel` | No   | `false`    | `/etc/skel/`の内容をコピーするかどうか |

## 動作

1. 指定されたパスの所有者・グループ・パーミッションを設定する
2. `copy_skel: true`が指定された場合のみ、`/etc/skel/`の内容をユーザーディレクトリにコピーする（既存ファイルは上書きしない）

## 使用例

```yaml
user_directories:
  - path: /nfs/data/sato
    user: sato
  - path: /nfs/data/tanaka
    user: tanaka
    group: users
    mode: "0755"
    copy_skel: true
```
